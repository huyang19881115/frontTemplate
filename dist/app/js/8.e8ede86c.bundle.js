(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1113:function(e,t,n){},1114:function(e,t,n){e.exports=n.p+"app/images/xtzy_89e46c4.png"},1115:function(e,t,n){e.exports=n.p+"app/images/background1_7313eb0.png"},1116:function(e,t,n){e.exports=n.p+"app/images/map_0ba3c94.png"},1117:function(e,t,n){e.exports=n.p+"app/images/dengluyeyonghuming1_0482f71.png"},1118:function(e,t,n){e.exports=n.p+"app/images/dengluyemima1_1f66562.png"},1125:function(e,t,n){"use strict";n.r(t),n(518),n(104),n(169),n(215),n(312);var a=n(48),r=n.n(a),i=(n(1078),n(1079)),o=n.n(i),s=n(313),u=n.n(s),l=n(217),c=n.n(l),m=(n(1084),n(1087)),p=n.n(m),f=(n(216),n(309)),h=n.n(f),d=n(1085),g=n.n(d),N=n(138),v=n.n(N),y=n(129),b=n.n(y),E=n(1080),L=n.n(E),S=n(71),w=n.n(S),C=n(72),x=n.n(C),H=n(167),k=n.n(H),O=n(105),_=n.n(O),D=n(168),M=n.n(D),T=n(0),W=n.n(T),j=n(34);function F(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r()(Date,[],(function(){}))),!0}catch(e){return!1}}n(1113);var U=function(e){M()(a,e);var t,n=(t=a,function(){var e,n=_()(t);if(F()){var a=_()(this).constructor;e=r()(n,arguments,a)}else e=n.apply(this,arguments);return k()(this,e)});function a(e){return w()(this,a),n.call(this,e)}return x()(a,null,[{key:"login",value:function(e){return this.post("/user/login",e)}}]),a}(n(311).a),X=n(39),P=n(1114),A=n.n(P),I=n(1086),J=n.n(I);function R(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r()(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=function(e){M()(s,e);var t,a,i=(t=s,function(){var e,n=_()(t);if(R()){var a=_()(this).constructor;e=r()(n,arguments,a)}else e=n.apply(this,arguments);return k()(this,e)});function s(){var e,t;w()(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=i.call.apply(i,L()(e=[this]).call(e,a))).state={userName:"",pwd:""},t}return x()(s,[{key:"handelChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(b()({},t,n))}},{key:"simulatedLoad",value:function(){return new v.a((function(e){g()((function(){e({success:!0,msg:"成功",obj:{token:"e3b207402b6f4988b3690ff673812519",userNo:"U1541852904075",userName:"马英华",relationNo:"0401004",relationType:"HEADMASTER",studentLoginInfo:null,teacherLoginInfo:{teacherNo:"0401004",teacherName:"马英华",sex:"女",idCardNo:"",birthdate:"1978-04-06",politicsStatus:"",nation:"",nativePlace:"河北省邢台市南宫市",originPlace:"河北省邢台市南宫市",education:"SS",educationStr:"硕士",degree:"SS",degreeStr:"硕士",firstDeptName:"教辅机构",firstDeptCode:"1003",secondDeptName:"高职研究所（质量管理办公室）",secondDeptCode:"100302",professionalTitle:"FJS",professionalTitleStr:"副教授",graduateSchool:"",graduateMajor:"",graduateDate:"",hiredate:"",phone:"",isDoubleProfessionally:"NO",isDoubleProfessionallyStr:"否",isCoreTeacher:"NO",isCoreTeacherStr:"否",isMajorLeader:"NO",isMajorLeaderStr:"否",isCollegeCertificate:"NO",isCollegeCertificateStr:"否",isJobCertificate:"NO",isJobCertificateStr:"否",managerType:"OTHERMANAGERS",managerTypeStr:"其他管理人员",isQuit:"NO",isQuitStr:"否",pictureUrl:""},majorTeacher:null,menuInfo:{systemNo:"WHHX",systemName:"五横画像",menuList:[{menuNo:"WHHXF1710",menuName:"师资-校领导",menuLevel:"ONE",menuUrl:"",parentMenuNo:"",menuList:[{menuNo:"WHHXF1710S1711",menuName:"demo1-组件加载",menuLevel:"TWO",menuUrl:"/teachermanager/survey",parentMenuNo:"WHHXF1710",parentMenuLevel:"ONE",menuList:[],moduleList:[]},{menuNo:"WHHXF1710S1712",menuName:"demo2-context",menuLevel:"TWO",menuUrl:"/teachermanager/growth",parentMenuNo:"WHHXF1710",parentMenuLevel:"ONE",menuList:[],moduleList:[]},{menuNo:"WHHXF1710S1713",menuName:"demo3-hooks",menuLevel:"TWO",menuUrl:"/teachermanager/hooks",parentMenuNo:"WHHXF1710",parentMenuLevel:"ONE",menuList:[],moduleList:[]}]}]}},errorCode:0})}),2e3)}))}},{key:"goLogin",value:(a=h()(c.a.mark((function e(){var t,n,a,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=this.props.location)||void 0===t?void 0:t.query,a=null==n?void 0:n.redirect,this.state.userName){e.next=5;break}return p.a.error("请输入账号！"),e.abrupt("return");case 5:if(this.state.pwd){e.next=8;break}return p.a.error("密码不能为空！"),e.abrupt("return");case 8:return r={username:this.state.userName,password:J()(this.state.pwd)},e.next=11,U.login(r);case 11:return i=e.sent,e.next=14,this.simulatedLoad();case 14:(i=e.sent).success?(Object(X.d)("auth",i.obj),i.obj.menuInfo&&(o=i.obj.menuInfo.menuList).length>0&&((s=o[0]).menuList.length>0?this.props.history.replace(a||s.menuList[0].menuUrl):this.props.history.replace(a||s.menuUrl))):p.a.error(i.msg||"登录失败");case 16:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a;return W.a.createElement(o.a,{className:"login-container"},W.a.createElement("div",{className:"main_container"},W.a.createElement("div",{className:"main_title"},W.a.createElement("img",{alt:"",src:A.a,style:{width:"196px"}})),W.a.createElement("div",{className:"main_content"},W.a.createElement("img",{alt:"",className:"banner",src:n(1115)}),W.a.createElement("img",{alt:"",className:"bannericon",src:n(1116)}),W.a.createElement("div",{className:"main_login"},W.a.createElement("h2",null,"教学诊改五横画像平台"),W.a.createElement("div",{className:"login_user"},W.a.createElement("img",{alt:"",src:n(1117)}),W.a.createElement("input",{name:"userName",onChange:u()(e=this.handelChange).call(e,this),placeholder:"请输入登录帐号",type:"text",value:this.state.userName})),W.a.createElement("div",{className:"login_pwd"},W.a.createElement("img",{alt:"",src:n(1118)}),W.a.createElement("input",{maxLength:"12",name:"pwd",onChange:u()(t=this.handelChange).call(t,this),type:"password",value:this.state.pwd})),W.a.createElement("span",{className:"error_info"}),W.a.createElement("button",{className:"login_btn",onClick:u()(a=this.goLogin).call(a,this)},"登录"))),W.a.createElement("div",{className:"main_footer"},W.a.createElement("div",{className:"side_content_footer"}))))}}]),s}(T.Component);t.default=Object(j.h)(Q)}}]);